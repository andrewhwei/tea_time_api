<div ng-app="app">
  <div ng-controller="teasCtrl" ng-init="setup()">
  
    <ul>
      <li ng-repeat="error in errors">{{ error }}</li>
    </ul>

    <datalist id="names">
      <option ng-repeat="tea in teas">{{tea.name}}</option>
    </datalist>

    <datalist id="origins">
      <option ng-repeat="tea in teas">{{tea.origin}}</option>
    </datalist>

    <div>
      <label>Filter by name:
      <input ng-model="nameFilter" list="names"></label>
    </div>
    <div>
      <label>Filter by origin:
      <input ng-model="nameOrigin" list="origins"></label>
    </div>
    <div>
      <label>Add a new tea product:
      <input ng-model="newTea" placeholder="Name">
      <input ng-model="newOrigin" placeholder="Origin">
      <button ng-click="addTea(newTea, newOrigin, 15, true)">Submit</button></label>
    </div>

    <table>
      <tr>
        <th ng-click="orderColumn('name')">Tea</th>
        <th ng-click="orderColumn('origin')">Origin</th>
        <th>Oz available</th>
        <th>In stock</th>
      </tr>

      <tr ng-repeat="tea in teas | filter: {name: nameFilter, origin: nameOrigin} | orderBy: orderAttribute:descending">
        <td>{{tea.name}}</td>
        <td>{{tea.origin}}</td>
        <td>{{tea.weight}}</td>
        <td>{{tea.in_stock}}</td>
        <td><button ng-click="deleteTea(tea)">Delete</button></td>
      </tr>
    </table>

  </div>
</div>
